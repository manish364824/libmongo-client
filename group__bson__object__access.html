<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libmongo-client: Object Access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmongo-client
   &#160;<span id="projectnumber">0.1.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Object Access</div>  </div>
<div class="ingroups"><a class="el" href="group__bson__mod.html">BSON</a></div></div><!--header-->
<div class="contents">

<p>Functions that operate on whole BSON objects.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Object Access:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__bson__object__access.png" border="0" alt="" usemap="#group____bson____object____access"/>
<map name="group____bson____object____access" id="group____bson____object____access">
<area shape="rect" id="node2" href="group__bson__mod.html" title="The types, functions and everything else within this module is meant to allow one to work with BSON o..." alt="" coords="7,5,65,35"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga357437f58074c2dee668a0cae2595b8b"><td class="memItemLeft" align="right" valign="top">bson *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga357437f58074c2dee668a0cae2595b8b">bson_new</a> (void)</td></tr>
<tr class="memdesc:ga357437f58074c2dee668a0cae2595b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new BSON object.  <a href="#ga357437f58074c2dee668a0cae2595b8b"></a><br/></td></tr>
<tr class="memitem:ga5880491cfbf32f576ca7ed289c7a5d6c"><td class="memItemLeft" align="right" valign="top">bson *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c">bson_new_sized</a> (gint32 size)</td></tr>
<tr class="memdesc:ga5880491cfbf32f576ca7ed289c7a5d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new BSON object, preallocating a given amount of space.  <a href="#ga5880491cfbf32f576ca7ed289c7a5d6c"></a><br/></td></tr>
<tr class="memitem:gad456a97b9a887b96373b8e519d76ecff"><td class="memItemLeft" align="right" valign="top">bson *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gad456a97b9a887b96373b8e519d76ecff">bson_new_from_data</a> (const guint8 *data, gint32 size)</td></tr>
<tr class="memdesc:gad456a97b9a887b96373b8e519d76ecff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a BSON object from existing data.  <a href="#gad456a97b9a887b96373b8e519d76ecff"></a><br/></td></tr>
<tr class="memitem:ga5bec2a5276b310191f94ba193a024fcb"><td class="memItemLeft" align="right" valign="top">bson *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb">bson_build_full</a> (<a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a> type, const gchar *name, gboolean free_after,...)</td></tr>
<tr class="memdesc:ga5bec2a5276b310191f94ba193a024fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a BSON object in one go, with full control.  <a href="#ga5bec2a5276b310191f94ba193a024fcb"></a><br/></td></tr>
<tr class="memitem:gae017cba3a7c5a49981aae92ff26d1ed8"><td class="memItemLeft" align="right" valign="top">bson *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gae017cba3a7c5a49981aae92ff26d1ed8">bson_build</a> (<a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a> type, const gchar *name,...)</td></tr>
<tr class="memdesc:gae017cba3a7c5a49981aae92ff26d1ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a BSON object in one go.  <a href="#gae017cba3a7c5a49981aae92ff26d1ed8"></a><br/></td></tr>
<tr class="memitem:gaa9919014ef9d2e2c1b04efa31e0f2124"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124">bson_finish</a> (bson *b)</td></tr>
<tr class="memdesc:gaa9919014ef9d2e2c1b04efa31e0f2124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish a BSON object.  <a href="#gaa9919014ef9d2e2c1b04efa31e0f2124"></a><br/></td></tr>
<tr class="memitem:ga797370970375deae54bcb40ecdb7b345"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga797370970375deae54bcb40ecdb7b345">bson_reset</a> (bson *b)</td></tr>
<tr class="memdesc:ga797370970375deae54bcb40ecdb7b345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a BSON object.  <a href="#ga797370970375deae54bcb40ecdb7b345"></a><br/></td></tr>
<tr class="memitem:ga1c0a306bfbe71d42218a3882ed188dd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga1c0a306bfbe71d42218a3882ed188dd8">bson_free</a> (bson *b)</td></tr>
<tr class="memdesc:ga1c0a306bfbe71d42218a3882ed188dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the memory associated with a BSON object.  <a href="#ga1c0a306bfbe71d42218a3882ed188dd8"></a><br/></td></tr>
<tr class="memitem:ga57fb6a03f8e9948901945f4b5fc0793c"><td class="memItemLeft" align="right" valign="top">gint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga57fb6a03f8e9948901945f4b5fc0793c">bson_size</a> (const bson *b)</td></tr>
<tr class="memdesc:ga57fb6a03f8e9948901945f4b5fc0793c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the size of a finished BSON object.  <a href="#ga57fb6a03f8e9948901945f4b5fc0793c"></a><br/></td></tr>
<tr class="memitem:ga053d619f59aa8effe973b5b8077fb57b"><td class="memItemLeft" align="right" valign="top">const guint8 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga053d619f59aa8effe973b5b8077fb57b">bson_data</a> (const bson *b)</td></tr>
<tr class="memdesc:ga053d619f59aa8effe973b5b8077fb57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the raw bytestream form of the BSON object.  <a href="#ga053d619f59aa8effe973b5b8077fb57b"></a><br/></td></tr>
<tr class="memitem:ga30692c3cf96fc11ca02573248586a21d"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bson__object__access.html#ga30692c3cf96fc11ca02573248586a21d">bson_validate_key</a> (const gchar *key, gboolean forbid_dots, gboolean no_dollar)</td></tr>
<tr class="memdesc:ga30692c3cf96fc11ca02573248586a21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate a BSON key.  <a href="#ga30692c3cf96fc11ca02573248586a21d"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions that operate on whole BSON objects. </p>
<h2>Function Documentation</h2>
<a class="anchor" id="gae017cba3a7c5a49981aae92ff26d1ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_build </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a BSON object in one go. </p>
<p>Very similar to <a class="el" href="group__bson__object__access.html#ga5bec2a5276b310191f94ba193a024fcb" title="Build a BSON object in one go, with full control.">bson_build_full()</a>, so much so, that it's exactly the same, except that the <em>free_after</em> parameter is always FALSE, and must not be specified in this case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>is the element type we'll be adding. </td></tr>
    <tr><td class="paramname">name</td><td>is the key name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated, unfinished BSON object, which must be finalized and freed, once not needed anymore, by the caller. Or NULL on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5bec2a5276b310191f94ba193a024fcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_build_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__bson__types.html#gadac27a93ef69dbe56a6409c68395e5cb">bson_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&#160;</td>
          <td class="paramname"><em>free_after</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a BSON object in one go, with full control. </p>
<p>This function can be used to build a BSON object in one simple step, chaining all the elements together (including sub-documents, created by this same function - more about that later).</p>
<p>One has to specify the type, the key name, and whether he wants to see the added object free'd after addition. Each element type is freed appropriately, and documents and arrays are finished before addition, if they're to be freed afterwards.</p>
<p>This way of operation allows one to build a full BSON object, even with embedded documents, without leaking memory.</p>
<p>After the three required parameters, one will need to list the data itself, in the same order as one would if he'd add with the bson_append family of functions.</p>
<p>The list must be closed with a <a class="el" href="group__bson__types.html#ggadac27a93ef69dbe56a6409c68395e5cba8da6f27ef8afcaac44402b61731a05df" title="Only used for errors.">BSON_TYPE_NONE</a> element, and the <em>name</em> and <em>free_after</em> parameters are not needed for the closing entry.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>is the element type we'll be adding. </td></tr>
    <tr><td class="paramname">name</td><td>is the key name. </td></tr>
    <tr><td class="paramname">free_after</td><td>determines whether the original variable will be freed after adding it to the BSON object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated, unfinished BSON object, which must be finalized and freed, once not needed anymore, by the caller. Or NULL on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga053d619f59aa8effe973b5b8077fb57b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const guint8* bson_data </td>
          <td>(</td>
          <td class="paramtype">const bson *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the raw bytestream form of the BSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>is the BSON object to retrieve data from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The raw datastream or NULL on error. The stream s all not be freed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Trying to retrieve the data of an unfinished BSON object is considered an error. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa9919014ef9d2e2c1b04efa31e0f2124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_finish </td>
          <td>(</td>
          <td class="paramtype">bson *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish a BSON object. </p>
<p>Terminate a BSON object. This includes appending the trailing zero byte and finalising the length of the object.</p>
<p>The object cannot be appended to after it is finalised.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>is the BSON object to close &amp; finish.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1c0a306bfbe71d42218a3882ed188dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bson_free </td>
          <td>(</td>
          <td class="paramtype">bson *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the memory associated with a BSON object. </p>
<p>Frees up all memory associated with a BSON object. The variable shall not be used afterwards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>is the BSON object to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga357437f58074c2dee668a0cae2595b8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new BSON object. </p>
<dl class="section note"><dt>Note</dt><dd>The created object will have no memory pre-allocated for data, resulting in possibly more reallocations than neccessary when appending elements.</dd>
<dd>
If at all possible, use <a class="el" href="group__bson__object__access.html#ga5880491cfbf32f576ca7ed289c7a5d6c" title="Create a new BSON object, preallocating a given amount of space.">bson_new_sized()</a> instead.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated object, or NULL on error. </dd></dl>

</div>
</div>
<a class="anchor" id="gad456a97b9a887b96373b8e519d76ecff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new_from_data </td>
          <td>(</td>
          <td class="paramtype">const guint8 *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint32&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a BSON object from existing data. </p>
<p>In order to be able to parse existing BSON, one must load it up into a bson object - and this function does just that.</p>
<dl class="section note"><dt>Note</dt><dd>Objects created by this function are not final objects, in order to be able to extend them. As such, when importing existing BSON data, which are terminated by a zero byte, specify the size as one smaller than the original data stream.</dd>
<dd>
This is because <a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object.">bson_finish()</a> will append a zero byte, thus one would end up with an invalid document if it had an extra one.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>is the BSON byte stream to import. </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the byte stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated object, with a copy of <em>data</em> as its contents. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5880491cfbf32f576ca7ed289c7a5d6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson* bson_new_sized </td>
          <td>(</td>
          <td class="paramtype">gint32&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new BSON object, preallocating a given amount of space. </p>
<p>Creates a new BSON object, pre-allocating <em>size</em> bytes of space for the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>is the space to pre-allocate for data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is not an error to pre-allocate either less, or more space than what will really end up being added. Pre-allocation does not set the size of the final object, it is merely a hint, a way to help the system avoid memory reallocations.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated object, or NULL on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga797370970375deae54bcb40ecdb7b345"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_reset </td>
          <td>(</td>
          <td class="paramtype">bson *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset a BSON object. </p>
<p>Resetting a BSON object clears the finished status, and sets its size to zero. Resetting is most useful when wants to keep the already allocated memory around for reuse.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>is the BSON object to reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE on success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga57fb6a03f8e9948901945f4b5fc0793c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint32 bson_size </td>
          <td>(</td>
          <td class="paramtype">const bson *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the size of a finished BSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>is the finished BSON object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the document, or -1 on error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Trying to get the size of a BSON object that has not been closed by <a class="el" href="group__bson__object__access.html#gaa9919014ef9d2e2c1b04efa31e0f2124" title="Finish a BSON object.">bson_finish()</a> is considered an error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga30692c3cf96fc11ca02573248586a21d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean bson_validate_key </td>
          <td>(</td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&#160;</td>
          <td class="paramname"><em>forbid_dots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&#160;</td>
          <td class="paramname"><em>no_dollar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate a BSON key. </p>
<p>Verifies that a given key is a valid BSON field name. Depending on context (togglable by the boolean flags) this means that the string must either be free of dots, or must not start with a dollar sign.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>is the field name to validate. </td></tr>
    <tr><td class="paramname">forbid_dots</td><td>toggles whether to disallow dots in the name altogether. </td></tr>
    <tr><td class="paramname">no_dollar</td><td>toggles whether to forbid key names starting with a dollar sign.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the field name is found to be valid, FALSE otherwise.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does NOT do UTF-8 validation. That is left up to the application. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 14 2012 21:33:34 for libmongo-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
